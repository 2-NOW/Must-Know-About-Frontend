# Cookie vs Session

HTTP는 Stateless(상태가 없는) 프로토콜이기 때문에 사용자가 웹 브라우저를 통해서 특정 웹 사이트에 접속하게 될 경우 어떤 사용자가 접속했는지에 대한 정보를 파악할 수 없다. 따라서, 쿠키와 세션을 활용하여 사용자를 구분하고 각 사용자에 맞는 정보를 제공한다.

<br>

## Cookie

쿠키란 클라이언트의 웹 브라우저에 저장되는 작은 데이터 조각으로 서버가 클라이언트의 요청을 식별하는데 사용된다. 쿠키를 활용해서 사용자를 구분하는게 매우 유용하지만, 클라이언트가 수정할 수도 있고 해커가 탈취할 수도 있기 때문에 보안에 취약하다. 따라서, 아이디 및 비밀번호와 같은 민감한 정보들을 저장하는데 사용하지는 않고 아래와 같은 목적으로 사용한다.

* **세션 관리**, 서버에 저장해야 할 로그인,장바구니 등의 정보
* **개인화**, 사용자 선호 및 테마
* **트래킹**, 사용자 행동 기록 및 분석

<br>

## Session

세션이란, 쿠키에서 저장할 수 없는 민감한 정보들을 합하여 **"세션 아이디"** 라고 불리는 것을 식별자로 하여 저장하는 방법을 말한다. 즉, 사용자가 처음 웹 사이트에 방문했을 때 서버에 요청을 하게 되면 서버는 요청 헤더에 세션 아이디가 있는지를 확인한 후, 없을 경우 새로운 세션 아이디를 만들어서 `Set-Cookie` 헤더를 통해 클라이언트의 쿠키에 저장한다. 그 후, 클라이언트는 서버에 요청을 할 때마다 `Cookie` 헤더에 세션 아이디를 포함시켜서 전송하기 때문에 서버는 클라이언트를 식별하여 그에 맞는 정보로 응답할 수 있게 된다.

<br>

## 차이점

* **쿠키**
  * 클라이언트 쪽에 저장한다. (웹 브라우저)
  * 브라우저가 꺼져도 삭제되지 않고 사용자가 삭제하거나 정해진 시간만큼 유지된다.
  * 문자열만 저장할 수 있다.
* **세션**
  * 서버쪽에 저장한다. (데이터베이스)
  * 브라우저가 꺼질 경우 삭제된다.
  * 객체를 저장할 수 있다.

쿠키는 보안적으로 취약하다는 단점이 있고 세션은 서버에 부하를 많이 줄 수 있다는 단점이 있다.

<br>

## 참고

* [MDN, HTTP 쿠키](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies)
* [쿠키,세션,캐시가 뭔가요? (유튜브)](https://www.youtube.com/watch?v=OpoVuwxGRDI)
* [What are sessions? How do they work?](https://stackoverflow.com/questions/3804209/what-are-sessions-how-do-they-work)

